#
# PSRule configuration
#

# Please see the documentation for all configuration options:
# https://microsoft.github.io/PSRule/

input:
  pathIgnore:
  - '.vscode/'
  - '*.md'
  - '*.Designer.cs'
  - '*.resx'
  - '*.sln'
  - '*.txt'
  - '*.html'
  - '*.ico'

include:
  path: []

output:
  culture:
  - en-US

configuration:
  # Authoring rules
  RULE_AUTHORING_ONLINE_HELP: 'https://azure.github.io/PSRule.Rules.Azure/en/rules/'
  RULE_AUTHORING_PREFIX: 'Azure'
  
  # Enable automatic expansion of Azure parameter files
  AZURE_PARAMETER_FILE_EXPANSION: true
  
  # Enable automatic expansion of bicep source files
  AZURE_BICEP_FILE_EXPANSION: true
  
  #ProjectSpecifc rules
  Azure_AKSNodeMinimumMaxPods: 30

rule:
  exclude:
  # Ignore the following rules for all resources
  - Azure.Resource.UseTags
  - Azure.VM.Standalone
  
suppression:
  Azure.AKS.AuthorizedIPs:
  # Exclude the following AKS clusters
  - aks-AksStan
  
  Azure.AKS.AuthorizedIPs:
  - aks-AksStan
  
  Azure.AKS.MinNodeCount:
  - aks-AksStan
  
  Azure.AKS.NetworkPolicy:
  - aks-AksStan
  
  Azure.AKS.AzurePolicyAddOn:
  - aks-AksStan
  
  Azure.AKS.AuthorizedIPs:
  - aks-AksStan
  
  Azure.AKS.AutoScaling:
  - aks-AksStan
  
  Azure.AKS.AvailabilityZone:
  - aks-AksStan
  
