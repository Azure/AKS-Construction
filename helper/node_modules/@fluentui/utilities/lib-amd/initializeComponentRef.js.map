{"version":3,"file":"initializeComponentRef.js","sourceRoot":"../src/","sources":["initializeComponentRef.ts"],"names":[],"mappings":";;;;IAIA;;;;;OAKG;IACH,SAAgB,sBAAsB,CAAoC,GAAoC;QAC5G,iCAAe,CAAC,GAAG,EAAE;YACnB,iBAAiB,EAAE,QAAQ;YAC3B,kBAAkB,EAAE,SAAS;YAC7B,oBAAoB,EAAE,UAAU;SACjC,CAAC,CAAC;IACL,CAAC;IAND,wDAMC;IAED,8DAA8D;IAC9D,SAAS,QAAQ;QACf,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,8DAA8D;IAC9D,SAAS,SAAS,CAAY,SAAqB;QACjD,IAAI,SAAS,CAAC,YAAY,KAAK,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE;YACtD,8DAA8D;YAC9D,gBAAgB,CAAE,SAAiB,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YACxD,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;SACjD;IACH,CAAC;IAED,8DAA8D;IAC9D,SAAS,UAAU;QACjB,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,SAAS,gBAAgB,CAAa,YAAyC,EAAE,KAAwB;QACvG,IAAI,YAAY,EAAE;YAChB,IAAI,OAAO,YAAY,KAAK,QAAQ,EAAE;gBACnC,YAA+C,CAAC,OAAO,GAAG,KAAK,CAAC;aAClE;iBAAM,IAAI,OAAO,YAAY,KAAK,UAAU,EAAE;gBAC5C,YAAyB,CAAC,KAAK,CAAC,CAAC;aACnC;SACF;IACH,CAAC","sourcesContent":["import * as React from 'react';\nimport { extendComponent } from './extendComponent';\nimport type { IBaseProps } from './BaseComponent.types';\n\n/**\n * Helper to manage componentRef resolution. Internally appends logic to\n * lifetime methods to resolve componentRef to the passed in object.\n *\n * Usage: call initializeComponentRef(this) in the constructor,\n */\nexport function initializeComponentRef<TProps extends IBaseProps, TState>(obj: React.Component<TProps, TState>): void {\n  extendComponent(obj, {\n    componentDidMount: _onMount,\n    componentDidUpdate: _onUpdate,\n    componentWillUnmount: _onUnmount,\n  });\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _onMount(this: any): void {\n  _setComponentRef(this.props.componentRef, this);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _onUpdate(this: any, prevProps: IBaseProps): void {\n  if (prevProps.componentRef !== this.props.componentRef) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _setComponentRef((prevProps as any).componentRef, null);\n    _setComponentRef(this.props.componentRef, this);\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _onUnmount(this: any): void {\n  _setComponentRef(this.props.componentRef, null);\n}\n\nfunction _setComponentRef<TInterface>(componentRef: React.RefObject<TInterface>, value: TInterface | null): void {\n  if (componentRef) {\n    if (typeof componentRef === 'object') {\n      (componentRef as { current: TInterface | null }).current = value;\n    } else if (typeof componentRef === 'function') {\n      (componentRef as Function)(value);\n    }\n  }\n}\n"]}