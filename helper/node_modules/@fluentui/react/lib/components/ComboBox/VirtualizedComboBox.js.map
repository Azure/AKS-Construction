{"version":3,"file":"VirtualizedComboBox.js","sourceRoot":"../src/","sources":["components/ComboBox/VirtualizedComboBox.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AACtC,OAAO,EAAE,IAAI,EAAE,MAAM,YAAY,CAAC;AAClC,OAAO,EAAE,sBAAsB,EAAE,MAAM,iBAAiB,CAAC;AAKzD;IAAyC,uCAAmC;IAM1E,6BAAY,KAAqB;QAAjC,YACE,kBAAM,KAAK,CAAC,SAGb;QATD,4BAA4B;QACpB,eAAS,GAAG,KAAK,CAAC,SAAS,EAAa,CAAC;QACjD,mCAAmC;QAC3B,WAAK,GAAG,KAAK,CAAC,SAAS,EAAS,CAAC;QA4C/B,mBAAa,GAAG,UAAC,KAAqB;YACtC,IAAA,EAAE,GAAmB,KAAK,GAAxB,EAAE,YAAY,GAAK,KAAK,aAAV,CAAW;YAEnC,0BAA0B;YAC1B,OAAO,CACL,oBAAC,IAAI,IACH,YAAY,EAAE,KAAI,CAAC,KAAK,EACxB,IAAI,EAAC,SAAS,EACd,EAAE,EAAK,EAAE,UAAO,qBACI,EAAE,WAAQ,EAC9B,KAAK,EAAE,KAAK,CAAC,OAAO;gBACpB,6CAA6C;gBAC7C,YAAY,EAAE,YAAY,CAAC,CAAC,CAAC,UAAC,IAAuB,IAAK,OAAA,YAAY,CAAC,IAAI,CAAC,EAAlB,CAAkB,CAAC,CAAC,CAAC,cAAM,OAAA,IAAI,EAAJ,CAAI,GACzF,CACH,CAAC;QACJ,CAAC,CAAC;QAEQ,qBAAe,GAAG,UAAC,SAAiB;YAC5C,sDAAsD;YACtD,KAAI,CAAC,KAAK,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QACpE,CAAC,CAAC;QA3DA,sBAAsB,CAAC,KAAI,CAAC,CAAC;;IAC/B,CAAC;IAKD,sBAAW,gDAAe;QAH1B;;WAEG;aACH;YACE,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;gBAC1B,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;aAC/C;YACD,OAAO,EAAE,CAAC;QACZ,CAAC;;;OAAA;IAEM,yCAAW,GAAlB;QACE,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YAC1B,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;SAC7C;IACH,CAAC;IAEM,mCAAK,GAAZ,UAAa,iBAA2B,EAAE,aAAuB;QAC/D,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YAC1B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,iBAAiB,EAAE,aAAa,CAAC,CAAC;YAC/D,OAAO,IAAI,CAAC;SACb;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAEM,oCAAM,GAAb;QACE,OAAO,CACL,oBAAC,QAAQ,eACH,IAAI,CAAC,KAAK,IACd,YAAY,EAAE,IAAI,CAAC,SAAS,EAC5B,YAAY,EAAE,IAAI,CAAC,aAAa,EAChC,cAAc,EAAE,IAAI,CAAC,eAAe,IACpC,CACH,CAAC;IACJ,CAAC;IAuBH,0BAAC;AAAD,CAAC,AArED,CAAyC,KAAK,CAAC,SAAS,GAqEvD","sourcesContent":["import * as React from 'react';\nimport { ComboBox } from './ComboBox';\nimport { List } from '../../List';\nimport { initializeComponentRef } from '../../Utilities';\nimport type { IComboBoxProps, IComboBox, IComboBoxOption } from './ComboBox.types';\nimport type { IList } from '../../List';\nimport type { ISelectableOption } from '../../SelectableOption';\n\nexport class VirtualizedComboBox extends React.Component<IComboBoxProps, {}> implements IComboBox {\n  /** The combo box element */\n  private _comboBox = React.createRef<IComboBox>();\n  /** The virtualized list element */\n  private _list = React.createRef<IList>();\n\n  constructor(props: IComboBoxProps) {\n    super(props);\n\n    initializeComponentRef(this);\n  }\n\n  /**\n   * All selected options\n   */\n  public get selectedOptions(): IComboBoxOption[] {\n    if (this._comboBox.current) {\n      return this._comboBox.current.selectedOptions;\n    }\n    return [];\n  }\n\n  public dismissMenu(): void {\n    if (this._comboBox.current) {\n      return this._comboBox.current.dismissMenu();\n    }\n  }\n\n  public focus(shouldOpenOnFocus?: boolean, useFocusAsync?: boolean) {\n    if (this._comboBox.current) {\n      this._comboBox.current.focus(shouldOpenOnFocus, useFocusAsync);\n      return true;\n    }\n\n    return false;\n  }\n\n  public render(): JSX.Element {\n    return (\n      <ComboBox\n        {...this.props}\n        componentRef={this._comboBox}\n        onRenderList={this._onRenderList}\n        onScrollToItem={this._onScrollToItem}\n      />\n    );\n  }\n\n  protected _onRenderList = (props: IComboBoxProps): JSX.Element => {\n    const { id, onRenderItem } = props;\n\n    // Render virtualized list\n    return (\n      <List\n        componentRef={this._list}\n        role=\"listbox\"\n        id={`${id}-list`}\n        aria-labelledby={`${id}-label`}\n        items={props.options}\n        // eslint-disable-next-line react/jsx-no-bind\n        onRenderCell={onRenderItem ? (item: ISelectableOption) => onRenderItem(item) : () => null}\n      />\n    );\n  };\n\n  protected _onScrollToItem = (itemIndex: number): void => {\n    // We are using the List component, call scrollToIndex\n    this._list.current && this._list.current.scrollToIndex(itemIndex);\n  };\n}\n"]}