{"version":3,"file":"PersonaPresence.styles.js","sourceRoot":"../src/","sources":["components/Persona/PersonaPresence/PersonaPresence.styles.ts"],"names":[],"mappings":"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","sourcesContent":["import { PersonaPresence, PersonaSize } from '../Persona.types';\nimport { HighContrastSelector, getGlobalClassNames, getHighContrastNoAdjustStyle } from '../../../Styling';\nimport { personaPresenceSize, presenceBoolean, sizeBoolean } from '../PersonaConsts';\nimport type { IPersonaPresenceStyleProps, IPersonaPresenceStyles } from '../Persona.types';\nimport type { IRawStyle } from '../../../Styling';\n\nconst GlobalClassNames = {\n  presence: 'ms-Persona-presence',\n  presenceIcon: 'ms-Persona-presenceIcon',\n};\n\nexport const getStyles = (props: IPersonaPresenceStyleProps): IPersonaPresenceStyles => {\n  const { theme, presenceColors } = props;\n  const { semanticColors, fonts } = theme;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  const size = sizeBoolean(props.size as PersonaSize);\n  const presence = presenceBoolean(props.presence as PersonaPresence);\n\n  // Presence colors\n  const presenceColorAvailable = (presenceColors && presenceColors.available) || '#6BB700';\n  const presenceColorAway = (presenceColors && presenceColors.away) || '#FFAA44';\n  const presenceColorBusy = (presenceColors && presenceColors.busy) || '#C43148';\n  const presenceColorDnd = (presenceColors && presenceColors.dnd) || '#C50F1F';\n  const presenceColorOffline = (presenceColors && presenceColors.offline) || '#8A8886';\n  const presenceColorOof = (presenceColors && presenceColors.oof) || '#B4009E';\n  const presenceColorBackground = (presenceColors && presenceColors.background) || semanticColors.bodyBackground;\n\n  const isOpenCirclePresence =\n    presence.isOffline ||\n    (props.isOutOfOffice && (presence.isAvailable || presence.isBusy || presence.isAway || presence.isDoNotDisturb));\n\n  const borderSizeForSmallPersonas = '1px';\n  const borderSizeForLargePersonas = '2px';\n\n  const borderSize = size.isSize72 || size.isSize100 ? borderSizeForLargePersonas : borderSizeForSmallPersonas;\n\n  return {\n    presence: [\n      classNames.presence,\n      {\n        position: 'absolute',\n        height: personaPresenceSize.size12,\n        width: personaPresenceSize.size12,\n        borderRadius: '50%',\n        top: 'auto',\n        right: '-2px',\n        bottom: '-2px',\n        border: `2px solid ${presenceColorBackground}`,\n        textAlign: 'center',\n        boxSizing: 'content-box',\n        backgroundClip: 'border-box',\n        ...getHighContrastNoAdjustStyle(),\n\n        selectors: {\n          [HighContrastSelector]: {\n            borderColor: 'Window',\n            backgroundColor: 'WindowText',\n          },\n        },\n      },\n\n      (size.isSize8 || size.isSize10) && {\n        right: 'auto',\n        top: '7px',\n        left: 0,\n        border: 0,\n\n        selectors: {\n          [HighContrastSelector]: {\n            top: '9px',\n            border: '1px solid WindowText',\n          },\n        },\n      },\n\n      (size.isSize8 || size.isSize10 || size.isSize24 || size.isSize28 || size.isSize32) &&\n        makeSizeStyle(personaPresenceSize.size8),\n\n      (size.isSize40 || size.isSize48) && makeSizeStyle(personaPresenceSize.size12),\n\n      size.isSize16 && {\n        height: personaPresenceSize.size6,\n        width: personaPresenceSize.size6,\n        borderWidth: '1.5px',\n      },\n\n      size.isSize56 && makeSizeStyle(personaPresenceSize.size16),\n\n      size.isSize72 && makeSizeStyle(personaPresenceSize.size20),\n\n      size.isSize100 && makeSizeStyle(personaPresenceSize.size28),\n\n      size.isSize120 && makeSizeStyle(personaPresenceSize.size32),\n\n      presence.isAvailable && {\n        backgroundColor: presenceColorAvailable,\n\n        selectors: {\n          [HighContrastSelector]: backgroundColor('Highlight'),\n        },\n      },\n\n      presence.isAway && backgroundColor(presenceColorAway),\n\n      presence.isBlocked && [\n        {\n          selectors: {\n            // Only show :after at larger sizes\n            ':after':\n              size.isSize40 || size.isSize48 || size.isSize72 || size.isSize100\n                ? {\n                    content: '\"\"',\n                    width: '100%',\n                    height: borderSize,\n                    backgroundColor: presenceColorBusy,\n                    transform: 'translateY(-50%) rotate(-45deg)',\n                    position: 'absolute',\n                    top: '50%',\n                    left: 0,\n                  }\n                : undefined,\n\n            [HighContrastSelector]: {\n              selectors: {\n                ':after': {\n                  width: `calc(100% - 4px)`,\n                  left: '2px',\n                  backgroundColor: 'Window',\n                },\n              },\n            },\n          },\n        },\n      ],\n\n      presence.isBusy && backgroundColor(presenceColorBusy),\n\n      presence.isDoNotDisturb && backgroundColor(presenceColorDnd),\n\n      presence.isOffline && backgroundColor(presenceColorOffline),\n\n      (isOpenCirclePresence || presence.isBlocked) && [\n        {\n          backgroundColor: presenceColorBackground,\n\n          selectors: {\n            ':before': {\n              content: '\"\"',\n              width: '100%',\n              height: '100%',\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              border: `${borderSize} solid ${presenceColorBusy}`,\n              borderRadius: '50%',\n              boxSizing: 'border-box',\n            },\n            [HighContrastSelector]: {\n              backgroundColor: 'WindowText',\n\n              selectors: {\n                ':before': {\n                  width: `calc(100% - 2px)`,\n                  height: `calc(100% - 2px)`,\n                  top: '1px',\n                  left: '1px',\n                  borderColor: 'Window',\n                },\n              },\n            },\n          },\n        },\n      ],\n\n      isOpenCirclePresence && presence.isAvailable && makeBeforeBorderStyle(borderSize, presenceColorAvailable),\n\n      isOpenCirclePresence && presence.isBusy && makeBeforeBorderStyle(borderSize, presenceColorBusy),\n\n      isOpenCirclePresence && presence.isAway && makeBeforeBorderStyle(borderSize, presenceColorOof),\n\n      isOpenCirclePresence && presence.isDoNotDisturb && makeBeforeBorderStyle(borderSize, presenceColorDnd),\n\n      isOpenCirclePresence && presence.isOffline && makeBeforeBorderStyle(borderSize, presenceColorOffline),\n\n      isOpenCirclePresence &&\n        presence.isOffline &&\n        props.isOutOfOffice &&\n        makeBeforeBorderStyle(borderSize, presenceColorOof),\n    ],\n\n    presenceIcon: [\n      classNames.presenceIcon,\n      {\n        color: presenceColorBackground,\n        fontSize: '6px', // exception case where we don't have an available theme.fonts variable to match it.\n        lineHeight: personaPresenceSize.size12,\n        verticalAlign: 'top',\n\n        selectors: {\n          [HighContrastSelector]: {\n            color: 'Window',\n          },\n        },\n      },\n\n      size.isSize56 && {\n        fontSize: '8px', // exception case where we don't have an available theme.fonts variable to match it.\n        lineHeight: personaPresenceSize.size16,\n      },\n\n      size.isSize72 && {\n        fontSize: fonts.small.fontSize,\n        lineHeight: personaPresenceSize.size20,\n      },\n\n      size.isSize100 && {\n        fontSize: fonts.medium.fontSize,\n        lineHeight: personaPresenceSize.size28,\n      },\n\n      size.isSize120 && {\n        fontSize: fonts.medium.fontSize,\n        lineHeight: personaPresenceSize.size32,\n      },\n\n      presence.isAway && {\n        position: 'relative',\n        left: isOpenCirclePresence ? undefined : '1px',\n      },\n\n      isOpenCirclePresence && presence.isAvailable && makeOpenCircleIconStyle(presenceColorAvailable),\n\n      isOpenCirclePresence && presence.isBusy && makeOpenCircleIconStyle(presenceColorBusy),\n\n      isOpenCirclePresence && presence.isAway && makeOpenCircleIconStyle(presenceColorOof),\n\n      isOpenCirclePresence && presence.isDoNotDisturb && makeOpenCircleIconStyle(presenceColorDnd),\n\n      isOpenCirclePresence && presence.isOffline && makeOpenCircleIconStyle(presenceColorOffline),\n\n      isOpenCirclePresence && presence.isOffline && props.isOutOfOffice && makeOpenCircleIconStyle(presenceColorOof),\n    ],\n  };\n};\n\nfunction makeOpenCircleIconStyle(color: string): IRawStyle {\n  return {\n    color,\n    borderColor: color,\n  };\n}\n\nfunction makeBeforeBorderStyle(borderSize: string, color: string): IRawStyle {\n  return {\n    selectors: {\n      ':before': {\n        border: `${borderSize} solid ${color}`,\n      },\n    },\n  };\n}\n\nfunction makeSizeStyle(size: string): IRawStyle {\n  return {\n    height: size,\n    width: size,\n  };\n}\n\nfunction backgroundColor(color: string): IRawStyle {\n  return { backgroundColor: color };\n}\n"]}