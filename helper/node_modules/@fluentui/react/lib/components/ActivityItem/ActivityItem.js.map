{"version":3,"file":"ActivityItem.js","sourceRoot":"../src/","sources":["components/ActivityItem/ActivityItem.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { getClassNames } from './ActivityItem.classNames';\nimport { getStyles } from './ActivityItem.styles';\nimport { PersonaSize, PersonaCoin } from '../../Persona';\nimport type { IActivityItemProps } from './ActivityItem.types';\nimport type { IActivityItemClassNames } from './ActivityItem.classNames';\nimport type { IPersonaSharedProps, IPersonaCoinProps } from '../../Persona';\n\ntype OptionalReactKey = { key?: React.Key };\n\n/**\n * {@docCategory ActivityItem}\n */\nexport class ActivityItem extends React.Component<IActivityItemProps, {}> {\n  constructor(props: IActivityItemProps) {\n    super(props);\n  }\n\n  public render(): JSX.Element {\n    const {\n      onRenderIcon = this._onRenderIcon,\n      onRenderActivityDescription = this._onRenderActivityDescription,\n      onRenderComments = this._onRenderComments,\n      onRenderTimeStamp = this._onRenderTimeStamp,\n      animateBeaconSignal,\n      isCompact,\n    } = this.props;\n\n    const classNames = this._getClassNames(this.props);\n\n    return (\n      <div className={classNames.root} style={this.props.style}>\n        {(this.props.activityPersonas || this.props.activityIcon || this.props.onRenderIcon) && (\n          <div className={classNames.activityTypeIcon}>\n            {animateBeaconSignal && isCompact && <div className={classNames.pulsingBeacon} />}\n            {onRenderIcon(this.props)}\n          </div>\n        )}\n\n        <div className={classNames.activityContent}>\n          {onRenderActivityDescription(this.props, this._onRenderActivityDescription)}\n          {onRenderComments(this.props, this._onRenderComments)}\n          {onRenderTimeStamp(this.props, this._onRenderTimeStamp)}\n        </div>\n      </div>\n    );\n  }\n\n  private _onRenderIcon = (props: IActivityItemProps): JSX.Element | React.ReactNode | null => {\n    if (props.activityPersonas) {\n      return this._onRenderPersonaArray(props);\n    } else {\n      return this.props.activityIcon;\n    }\n  };\n\n  private _onRenderActivityDescription = (props: IActivityItemProps): JSX.Element | null => {\n    const classNames = this._getClassNames(props);\n\n    // eslint-disable-next-line deprecation/deprecation\n    const activityDescription = props.activityDescription || props.activityDescriptionText;\n\n    if (activityDescription) {\n      return <span className={classNames.activityText}>{activityDescription}</span>;\n    }\n\n    return null;\n  };\n\n  private _onRenderComments = (props: IActivityItemProps): JSX.Element | null => {\n    const classNames = this._getClassNames(props);\n\n    // eslint-disable-next-line deprecation/deprecation\n    const comments = props.comments || props.commentText;\n\n    if (!props.isCompact && comments) {\n      return <div className={classNames.commentText}>{comments}</div>;\n    }\n\n    return null;\n  };\n\n  private _onRenderTimeStamp = (props: IActivityItemProps): JSX.Element | null => {\n    const classNames = this._getClassNames(props);\n\n    if (!props.isCompact && props.timeStamp) {\n      return <div className={classNames.timeStamp}>{props.timeStamp}</div>;\n    }\n\n    return null;\n  };\n\n  // If activityPersonas is an array of persona props, build the persona cluster element.\n  private _onRenderPersonaArray = (props: IActivityItemProps): JSX.Element | null => {\n    const classNames = this._getClassNames(props);\n\n    let personaElement: JSX.Element | null = null;\n    const activityPersonas = props.activityPersonas as Array<IPersonaSharedProps & OptionalReactKey>;\n    if (activityPersonas[0].imageUrl || activityPersonas[0].imageInitials) {\n      const personaList: Array<JSX.Element> = [];\n      const showSize16Personas = activityPersonas.length > 1 || props.isCompact;\n      const personaLimit = props.isCompact ? 3 : 4;\n      let style: React.CSSProperties | undefined = undefined;\n      if (props.isCompact) {\n        style = {\n          display: 'inline-block',\n          width: '10px',\n          minWidth: '10px',\n          overflow: 'visible',\n        };\n      }\n      activityPersonas\n        .filter((person: IPersonaCoinProps & OptionalReactKey, index: number) => index < personaLimit)\n        .forEach((person: IPersonaCoinProps & OptionalReactKey, index: number) => {\n          personaList.push(\n            <PersonaCoin\n              {...person}\n              key={person.key || index}\n              className={classNames.activityPersona}\n              // eslint-disable-next-line deprecation/deprecation\n              size={showSize16Personas ? PersonaSize.size16 : PersonaSize.size32}\n              style={style}\n            />,\n          );\n        });\n      personaElement = <div className={classNames.personaContainer}>{personaList}</div>;\n    }\n    return personaElement;\n  };\n\n  private _getClassNames(props: IActivityItemProps): IActivityItemClassNames {\n    return getClassNames(\n      getStyles(\n        undefined,\n        props.styles,\n        props.animateBeaconSignal,\n        props.beaconColorOne,\n        props.beaconColorTwo,\n        props.isCompact,\n      ),\n      props.className!,\n      props.activityPersonas!,\n      props.isCompact!,\n    );\n  }\n}\n"]}