{"version":3,"file":"SelectedItemWithContextMenu.js","sourceRoot":"../src/","sources":["components/SelectedItemsList/SelectedPeopleList/Items/SelectedItemWithContextMenu.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EAAE,sBAAsB,EAAE,MAAM,uBAAuB,CAAC;AAC/D,OAAO,EAAE,cAAc,EAAE,eAAe,EAAE,MAAM,4BAA4B,CAAC;AAgB7E;IAAiD,+CAGhD;IAGC,qCAAY,KAAwC;QAApD,YACE,kBAAM,KAAK,CAAC,SAIb;QAPS,iBAAW,GAAoC,KAAK,CAAC,SAAS,EAAkB,CAAC;QA0BnF,cAAQ,GAAG,UAAC,EAAiC;YACnD,EAAE,CAAC,cAAc,EAAE,CAAC;YACpB,IAAI,KAAI,CAAC,KAAK,CAAC,YAAY,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE;gBACvD,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aAC1C;iBAAM;gBACL,KAAI,CAAC,QAAQ,CAAC,EAAE,qBAAqB,EAAE,IAAI,EAAE,CAAC,CAAC;aAChD;QACH,CAAC,CAAC;QAEM,4BAAsB,GAAG,UAAC,EAA0C;YAC1E,KAAI,CAAC,QAAQ,CAAC,EAAE,qBAAqB,EAAE,KAAK,EAAE,CAAC,CAAC;QAClD,CAAC,CAAC;QAhCA,sBAAsB,CAAC,KAAI,CAAC,CAAC;QAC7B,KAAI,CAAC,KAAK,GAAG,EAAE,qBAAqB,EAAE,KAAK,EAAE,CAAC;;IAChD,CAAC;IAEM,4CAAM,GAAb;QACE,OAAO,CACL,6BAAK,GAAG,EAAE,IAAI,CAAC,WAAW,EAAE,aAAa,EAAE,IAAI,CAAC,QAAQ;YACrD,IAAI,CAAC,KAAK,CAAC,YAAY;YACvB,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAClC,oBAAC,cAAc,IACb,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAC3B,kBAAkB,EAAE,IAAI,EACxB,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,OAAO,EAChC,SAAS,EAAE,IAAI,CAAC,sBAAsB,EACtC,eAAe,EAAE,eAAe,CAAC,cAAc,GAC/C,CACH,CAAC,CAAC,CAAC,IAAI,CACJ,CACP,CAAC;IACJ,CAAC;IAcH,kCAAC;AAAD,CAAC,AA1CD,CAAiD,KAAK,CAAC,SAAS,GA0C/D","sourcesContent":["import * as React from 'react';\nimport { initializeComponentRef } from '../../../../Utilities';\nimport { ContextualMenu, DirectionalHint } from '../../../../ContextualMenu';\nimport type { IBaseProps } from '../../../../Utilities';\nimport type { IExtendedPersonaProps } from '../SelectedPeopleList';\nimport type { IContextualMenuItem } from '../../../../ContextualMenu';\n\nexport interface IPeoplePickerItemState {\n  contextualMenuVisible: boolean;\n}\n\nexport interface ISelectedItemWithContextMenuProps extends IBaseProps {\n  renderedItem: JSX.Element;\n  beginEditing?: (item: IExtendedPersonaProps) => void;\n  menuItems: IContextualMenuItem[];\n  item: IExtendedPersonaProps;\n}\n\nexport class SelectedItemWithContextMenu extends React.Component<\n  ISelectedItemWithContextMenuProps,\n  IPeoplePickerItemState\n> {\n  protected itemElement: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\n\n  constructor(props: ISelectedItemWithContextMenuProps) {\n    super(props);\n\n    initializeComponentRef(this);\n    this.state = { contextualMenuVisible: false };\n  }\n\n  public render(): JSX.Element {\n    return (\n      <div ref={this.itemElement} onContextMenu={this._onClick}>\n        {this.props.renderedItem}\n        {this.state.contextualMenuVisible ? (\n          <ContextualMenu\n            items={this.props.menuItems}\n            shouldFocusOnMount={true}\n            target={this.itemElement.current}\n            onDismiss={this._onCloseContextualMenu}\n            directionalHint={DirectionalHint.bottomLeftEdge}\n          />\n        ) : null}\n      </div>\n    );\n  }\n\n  private _onClick = (ev: React.MouseEvent<HTMLElement>): void => {\n    ev.preventDefault();\n    if (this.props.beginEditing && !this.props.item.isValid) {\n      this.props.beginEditing(this.props.item);\n    } else {\n      this.setState({ contextualMenuVisible: true });\n    }\n  };\n\n  private _onCloseContextualMenu = (ev: React.MouseEvent | React.KeyboardEvent): void => {\n    this.setState({ contextualMenuVisible: false });\n  };\n}\n"]}