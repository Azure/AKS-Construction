{"version":3,"file":"WeeklyDayPicker.base.js","sourceRoot":"../src/","sources":["components/WeeklyDayPicker/WeeklyDayPicker.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { classNamesFunction, css, KeyCodes, getRTL, initializeComponentRef } from '@fluentui/utilities';\nimport { AnimationDirection } from '../Calendar/Calendar.types';\nimport { CalendarDayGrid } from '../CalendarDayGrid/CalendarDayGrid';\nimport {\n  compareDatePart,\n  getStartDateOfWeek,\n  addDays,\n  addMonths,\n  compareDates,\n  FirstWeekOfYear,\n  DateRangeType,\n  DayOfWeek,\n  DEFAULT_DATE_FORMATTING,\n} from '@fluentui/date-time-utilities';\nimport { Icon } from '../../Icon';\nimport { defaultWeeklyDayPickerStrings, defaultWeeklyDayPickerNavigationIcons } from './defaults';\nimport type { IProcessedStyleSet } from '@fluentui/style-utilities';\nimport type {\n  IWeeklyDayPickerProps,\n  IWeeklyDayPickerStyleProps,\n  IWeeklyDayPickerStyles,\n} from './WeeklyDayPicker.types';\nimport type { ICalendarDayGrid } from '../CalendarDayGrid/CalendarDayGrid.types';\n\nconst getClassNames = classNamesFunction<IWeeklyDayPickerStyleProps, IWeeklyDayPickerStyles>();\n\nexport interface IWeeklyDayPickerState {\n  /** The currently focused date in the week picker, but not necessarily selected */\n  navigatedDate: Date;\n\n  /** The currently selected date in the calendar */\n  selectedDate: Date;\n\n  /** Tracking whether we just toggled showFullMonth */\n  previousShowFullMonth: boolean;\n\n  /** Whether to animate veritcally or horizontally */\n  animationDirection: AnimationDirection;\n}\n\nexport class WeeklyDayPickerBase extends React.Component<IWeeklyDayPickerProps, IWeeklyDayPickerState> {\n  public static defaultProps: IWeeklyDayPickerProps = {\n    onSelectDate: undefined,\n    initialDate: undefined,\n    today: new Date(),\n    firstDayOfWeek: DayOfWeek.Sunday,\n    strings: defaultWeeklyDayPickerStrings,\n    navigationIcons: defaultWeeklyDayPickerNavigationIcons,\n    dateTimeFormatter: DEFAULT_DATE_FORMATTING,\n    animationDirection: AnimationDirection.Horizontal,\n  };\n\n  private _dayGrid = React.createRef<ICalendarDayGrid>();\n  private _focusOnUpdate: boolean;\n  private _initialTouchX: number | undefined;\n\n  public static getDerivedStateFromProps(\n    nextProps: Readonly<IWeeklyDayPickerProps>,\n    prevState: Readonly<IWeeklyDayPickerState>,\n  ): Partial<IWeeklyDayPickerState> | null {\n    const currentDate =\n      nextProps.initialDate && !isNaN(nextProps.initialDate.getTime())\n        ? nextProps.initialDate\n        : nextProps.today || new Date();\n    const showFullMonth = !!nextProps.showFullMonth;\n    const newAnimationDirection =\n      showFullMonth !== prevState.previousShowFullMonth ? AnimationDirection.Vertical : AnimationDirection.Horizontal;\n\n    if (!compareDates(currentDate, prevState.selectedDate)) {\n      return {\n        selectedDate: currentDate,\n        navigatedDate: currentDate,\n        previousShowFullMonth: showFullMonth,\n        animationDirection: newAnimationDirection,\n      };\n    }\n\n    return {\n      selectedDate: currentDate,\n      navigatedDate: prevState.navigatedDate,\n      previousShowFullMonth: showFullMonth,\n      animationDirection: newAnimationDirection,\n    };\n  }\n\n  public constructor(props: IWeeklyDayPickerProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    const currentDate =\n      props.initialDate && !isNaN(props.initialDate.getTime()) ? props.initialDate : props.today || new Date();\n\n    this.state = {\n      selectedDate: currentDate,\n      navigatedDate: currentDate,\n      previousShowFullMonth: !!props.showFullMonth,\n      animationDirection: props.animationDirection!,\n    };\n    this._focusOnUpdate = false;\n  }\n\n  public focus(): void {\n    if (this._dayGrid && this._dayGrid.current) {\n      this._dayGrid.current.focus();\n    }\n  }\n\n  public render(): JSX.Element {\n    const {\n      strings,\n      dateTimeFormatter,\n      firstDayOfWeek,\n      minDate,\n      maxDate,\n      restrictedDates,\n      today,\n      styles,\n      theme,\n      className,\n      showFullMonth,\n      weeksToShow,\n      ...calendarDayGridProps\n    } = this.props;\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className: className,\n    });\n\n    return (\n      <div\n        className={classNames.root}\n        onKeyDown={this._onWrapperKeyDown}\n        onTouchStart={this._onTouchStart}\n        onTouchMove={this._onTouchMove}\n        aria-expanded={showFullMonth}\n      >\n        {this._renderPreviousWeekNavigationButton(classNames)}\n        <CalendarDayGrid\n          styles={styles}\n          componentRef={this._dayGrid}\n          strings={strings}\n          selectedDate={this.state.selectedDate!}\n          navigatedDate={this.state.navigatedDate!}\n          firstDayOfWeek={firstDayOfWeek!}\n          firstWeekOfYear={FirstWeekOfYear.FirstDay}\n          dateRangeType={DateRangeType.Day}\n          weeksToShow={showFullMonth ? weeksToShow : 1}\n          dateTimeFormatter={dateTimeFormatter!}\n          minDate={minDate}\n          maxDate={maxDate}\n          restrictedDates={restrictedDates}\n          onSelectDate={this._onSelectDate}\n          onNavigateDate={this._onNavigateDate}\n          today={today}\n          lightenDaysOutsideNavigatedMonth={showFullMonth}\n          animationDirection={this.state.animationDirection}\n          {...calendarDayGridProps}\n        />\n        {this._renderNextWeekNavigationButton(classNames)}\n      </div>\n    );\n  }\n\n  public componentDidUpdate(): void {\n    if (this._focusOnUpdate) {\n      this.focus();\n      this._focusOnUpdate = false;\n    }\n  }\n\n  private _onSelectDate = (date: Date): void => {\n    const { onSelectDate } = this.props;\n\n    // don't set the navigated date on selection because selection never causes navigation\n    this.setState({\n      selectedDate: date,\n    });\n    this._focusOnUpdate = true;\n\n    if (onSelectDate) {\n      onSelectDate(date);\n    }\n  };\n\n  private _onNavigateDate = (date: Date, focusOnNavigatedDay: boolean): void => {\n    const { onNavigateDate } = this.props;\n\n    this.setState({\n      navigatedDate: date,\n    });\n    this._focusOnUpdate = focusOnNavigatedDay;\n\n    if (onNavigateDate) {\n      onNavigateDate(date);\n    }\n  };\n\n  private _renderPreviousWeekNavigationButton = (\n    classNames: IProcessedStyleSet<IWeeklyDayPickerStyles>,\n  ): JSX.Element => {\n    const { minDate, firstDayOfWeek, navigationIcons } = this.props;\n    const { navigatedDate } = this.state;\n    const leftNavigationIcon = getRTL() ? navigationIcons!.rightNavigation : navigationIcons!.leftNavigation;\n\n    // determine if previous week in bounds\n    const prevWeekInBounds = minDate\n      ? compareDatePart(minDate, getStartDateOfWeek(navigatedDate, firstDayOfWeek!)) < 0\n      : true;\n\n    return (\n      <button\n        className={css(classNames.navigationIconButton, {\n          [classNames.disabledStyle]: !prevWeekInBounds,\n        })}\n        disabled={!prevWeekInBounds}\n        aria-disabled={!prevWeekInBounds}\n        onClick={prevWeekInBounds ? this._onSelectPrevDateRange : undefined}\n        onKeyDown={prevWeekInBounds ? this._onButtonKeyDown(this._onSelectPrevDateRange) : undefined}\n        title={this._createPreviousWeekAriaLabel()}\n        type=\"button\"\n      >\n        <Icon iconName={leftNavigationIcon} />\n      </button>\n    );\n  };\n\n  private _renderNextWeekNavigationButton = (classNames: IProcessedStyleSet<IWeeklyDayPickerStyles>): JSX.Element => {\n    const { maxDate, firstDayOfWeek, navigationIcons } = this.props;\n    const { navigatedDate } = this.state;\n    const rightNavigationIcon = getRTL() ? navigationIcons!.leftNavigation : navigationIcons!.rightNavigation;\n\n    // determine if next week in bounds\n    const nextWeekInBounds = maxDate\n      ? compareDatePart(addDays(getStartDateOfWeek(navigatedDate, firstDayOfWeek!), 7), maxDate) < 0\n      : true;\n\n    return (\n      <button\n        className={css(classNames.navigationIconButton, {\n          [classNames.disabledStyle]: !nextWeekInBounds,\n        })}\n        disabled={!nextWeekInBounds}\n        aria-disabled={!nextWeekInBounds}\n        onClick={nextWeekInBounds ? this._onSelectNextDateRange : undefined}\n        onKeyDown={nextWeekInBounds ? this._onButtonKeyDown(this._onSelectNextDateRange) : undefined}\n        title={this._createNextWeekAriaLabel()}\n        type=\"button\"\n      >\n        <Icon iconName={rightNavigationIcon} />\n      </button>\n    );\n  };\n\n  private _onSelectPrevDateRange = () => {\n    if (this.props.showFullMonth) {\n      this._navigateDate(addMonths(this.state.navigatedDate, -1));\n    } else {\n      this._navigateDate(addDays(this.state.navigatedDate, -7));\n    }\n  };\n\n  private _onSelectNextDateRange = () => {\n    if (this.props.showFullMonth) {\n      this._navigateDate(addMonths(this.state.navigatedDate, 1));\n    } else {\n      this._navigateDate(addDays(this.state.navigatedDate, 7));\n    }\n  };\n\n  private _navigateDate = (date: Date) => {\n    this.setState({\n      navigatedDate: date,\n    });\n    if (this.props.onNavigateDate) {\n      this.props.onNavigateDate(date);\n    }\n  };\n\n  private _onWrapperKeyDown = (ev: React.KeyboardEvent<HTMLElement>) => {\n    // eslint-disable-next-line deprecation/deprecation\n    switch (ev.which) {\n      case KeyCodes.enter:\n        ev.preventDefault();\n        break;\n\n      case KeyCodes.backspace:\n        ev.preventDefault();\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  private _onButtonKeyDown = (callback: () => void): ((ev: React.KeyboardEvent<HTMLButtonElement>) => void) => {\n    return (ev: React.KeyboardEvent<HTMLButtonElement>) => {\n      // eslint-disable-next-line deprecation/deprecation\n      switch (ev.which) {\n        case KeyCodes.enter:\n          callback();\n          break;\n      }\n    };\n  };\n\n  private _onTouchStart = (ev: React.TouchEvent<HTMLDivElement>) => {\n    const touch = ev.touches[0];\n    if (touch) {\n      this._initialTouchX = touch.clientX;\n    }\n  };\n\n  private _onTouchMove = (ev: React.TouchEvent<HTMLDivElement>) => {\n    const isRtl = getRTL();\n    const touch = ev.touches[0];\n    if (touch && this._initialTouchX !== undefined && touch.clientX !== this._initialTouchX) {\n      if ((touch.clientX - this._initialTouchX) * (isRtl ? -1 : 1) < 0) {\n        // swipe right\n        this._onSelectNextDateRange();\n      } else {\n        // swipe left\n        this._onSelectPrevDateRange();\n      }\n      this._initialTouchX = undefined;\n    }\n  };\n\n  private _createPreviousWeekAriaLabel = () => {\n    const { strings, showFullMonth, firstDayOfWeek } = this.props;\n    const { navigatedDate } = this.state;\n\n    let ariaLabel = undefined;\n    if (showFullMonth && strings.prevMonthAriaLabel) {\n      ariaLabel = strings.prevMonthAriaLabel + ' ' + strings.months[addMonths(navigatedDate!, -1).getMonth()];\n    } else if (!showFullMonth && strings.prevWeekAriaLabel) {\n      const firstDayOfPreviousWeek = getStartDateOfWeek(addDays(navigatedDate!, -7), firstDayOfWeek!);\n      const lastDayOfPreviousWeek = addDays(firstDayOfPreviousWeek, 6);\n      ariaLabel =\n        strings.prevWeekAriaLabel + ' ' + this._formatDateRange(firstDayOfPreviousWeek, lastDayOfPreviousWeek);\n    }\n    return ariaLabel;\n  };\n\n  private _createNextWeekAriaLabel = () => {\n    const { strings, showFullMonth, firstDayOfWeek } = this.props;\n    const { navigatedDate } = this.state;\n\n    let ariaLabel = undefined;\n    if (showFullMonth && strings.nextMonthAriaLabel) {\n      ariaLabel = strings.nextMonthAriaLabel + ' ' + strings.months[addMonths(navigatedDate!, 1).getMonth()];\n    } else if (!showFullMonth && strings.nextWeekAriaLabel) {\n      const firstDayOfNextWeek = getStartDateOfWeek(addDays(navigatedDate!, 7), firstDayOfWeek!);\n      const lastDayOfNextWeek = addDays(firstDayOfNextWeek, 6);\n      ariaLabel = strings.nextWeekAriaLabel + ' ' + this._formatDateRange(firstDayOfNextWeek, lastDayOfNextWeek);\n    }\n    return ariaLabel;\n  };\n\n  private _formatDateRange = (startDate: Date, endDate: Date) => {\n    const { dateTimeFormatter, strings } = this.props;\n    return `${dateTimeFormatter?.formatMonthDayYear(startDate, strings)} - ${dateTimeFormatter?.formatMonthDayYear(\n      endDate,\n      strings,\n    )}`;\n  };\n}\n"]}