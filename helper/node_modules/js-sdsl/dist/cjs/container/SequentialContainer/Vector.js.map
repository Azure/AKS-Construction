{"version":3,"sources":["container/SequentialContainer/Vector.js","../../src/container/SequentialContainer/Vector.ts"],"names":["Object","defineProperty","exports","value","default","_Base","_interopRequireDefault","require","_RandomIterator","obj","__esModule","VectorIterator","RandomIterator","copy","this","_node","_size","_getElementByPos","_setElementByPos","iteratorType","Vector","SequentialContainer","constructor","container","super","Array","isArray","_vector","_length","length","self","forEach","el","pushBack","size","bind","getElementByPos","setElementByPos","clear","begin","end","rBegin","rEnd","front","back","pos","RangeError","eraseElementByPos","splice","eraseElementByValue","index","i","eraseElementByIterator","iter","next","element","push","popBack","pop","insert","num","fill","find","reverse","unique","sort","cmp","callback","Symbol","iterator","_default"],"mappings":"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","file":"Vector.js","sourcesContent":["import SequentialContainer from './Base';\nimport { RandomIterator } from \"./Base/RandomIterator\";\nimport $checkWithinAccessParams from \"../../utils/checkParams.macro\";\nclass VectorIterator extends RandomIterator {\n    copy() {\n        return new VectorIterator(this._node, this._size, this._getElementByPos, this._setElementByPos, this.iteratorType);\n    }\n}\nclass Vector extends SequentialContainer {\n    /**\n     * @param container - Initialize container, must have a forEach function.\n     * @param copy - When the container is an array, you can choose to directly operate on the original object of\n     *               the array or perform a shallow copy. The default is shallow copy.\n     */\n    constructor(container = [], copy = true) {\n        super();\n        if (Array.isArray(container)) {\n            this._vector = copy ? [...container] : container;\n            this._length = container.length;\n        }\n        else {\n            this._vector = [];\n            const self = this;\n            container.forEach(function (el) {\n                self.pushBack(el);\n            });\n        }\n        this.size = this.size.bind(this);\n        this.getElementByPos = this.getElementByPos.bind(this);\n        this.setElementByPos = this.setElementByPos.bind(this);\n    }\n    clear() {\n        this._length = 0;\n        this._vector.length = 0;\n    }\n    begin() {\n        return new VectorIterator(0, this.size, this.getElementByPos, this.setElementByPos);\n    }\n    end() {\n        return new VectorIterator(this._length, this.size, this.getElementByPos, this.setElementByPos);\n    }\n    rBegin() {\n        return new VectorIterator(this._length - 1, this.size, this.getElementByPos, this.setElementByPos, 1 /* IteratorType.REVERSE */);\n    }\n    rEnd() {\n        return new VectorIterator(-1, this.size, this.getElementByPos, this.setElementByPos, 1 /* IteratorType.REVERSE */);\n    }\n    front() {\n        return this._vector[0];\n    }\n    back() {\n        return this._vector[this._length - 1];\n    }\n    getElementByPos(pos) {\n        if (pos < 0 || pos > this._length - 1) {\n            throw new RangeError();\n        }\n        return this._vector[pos];\n    }\n    eraseElementByPos(pos) {\n        if (pos < 0 || pos > this._length - 1) {\n            throw new RangeError();\n        }\n        this._vector.splice(pos, 1);\n        this._length -= 1;\n        return this._length;\n    }\n    eraseElementByValue(value) {\n        let index = 0;\n        for (let i = 0; i < this._length; ++i) {\n            if (this._vector[i] !== value) {\n                this._vector[index++] = this._vector[i];\n            }\n        }\n        this._length = this._vector.length = index;\n        return this._length;\n    }\n    eraseElementByIterator(iter) {\n        const _node = iter._node;\n        iter = iter.next();\n        this.eraseElementByPos(_node);\n        return iter;\n    }\n    pushBack(element) {\n        this._vector.push(element);\n        this._length += 1;\n        return this._length;\n    }\n    popBack() {\n        if (this._length === 0)\n            return;\n        this._length -= 1;\n        return this._vector.pop();\n    }\n    setElementByPos(pos, element) {\n        if (pos < 0 || pos > this._length - 1) {\n            throw new RangeError();\n        }\n        this._vector[pos] = element;\n    }\n    insert(pos, element, num = 1) {\n        if (pos < 0 || pos > this._length) {\n            throw new RangeError();\n        }\n        this._vector.splice(pos, 0, ...new Array(num).fill(element));\n        this._length += num;\n        return this._length;\n    }\n    find(element) {\n        for (let i = 0; i < this._length; ++i) {\n            if (this._vector[i] === element) {\n                return new VectorIterator(i, this.size, this.getElementByPos, this.getElementByPos);\n            }\n        }\n        return this.end();\n    }\n    reverse() {\n        this._vector.reverse();\n    }\n    unique() {\n        let index = 1;\n        for (let i = 1; i < this._length; ++i) {\n            if (this._vector[i] !== this._vector[i - 1]) {\n                this._vector[index++] = this._vector[i];\n            }\n        }\n        this._length = this._vector.length = index;\n        return this._length;\n    }\n    sort(cmp) {\n        this._vector.sort(cmp);\n    }\n    forEach(callback) {\n        for (let i = 0; i < this._length; ++i) {\n            callback(this._vector[i], i, this);\n        }\n    }\n    [Symbol.iterator]() {\n        return function* () {\n            yield* this._vector;\n        }.bind(this)();\n    }\n}\nexport default Vector;\n","import SequentialContainer from './Base';\nimport { initContainer, IteratorType } from '@/container/ContainerBase';\nimport { RandomIterator } from '@/container/SequentialContainer/Base/RandomIterator';\nimport $checkWithinAccessParams from '@/utils/checkParams.macro';\n\nclass VectorIterator<T> extends RandomIterator<T> {\n  copy() {\n    return new VectorIterator(\n      this._node,\n      this._size,\n      this._getElementByPos,\n      this._setElementByPos,\n      this.iteratorType\n    );\n  }\n  // @ts-ignore\n  equals(iter: VectorIterator<T>): boolean;\n}\n\nexport type { VectorIterator };\n\nclass Vector<T> extends SequentialContainer<T> {\n  /**\n   * @internal\n   */\n  private readonly _vector: T[];\n  /**\n   * @param container - Initialize container, must have a forEach function.\n   * @param copy - When the container is an array, you can choose to directly operate on the original object of\n   *               the array or perform a shallow copy. The default is shallow copy.\n   */\n  constructor(container: initContainer<T> = [], copy = true) {\n    super();\n    if (Array.isArray(container)) {\n      this._vector = copy ? [...container] : container;\n      this._length = container.length;\n    } else {\n      this._vector = [];\n      const self = this;\n      container.forEach(function (el) {\n        self.pushBack(el);\n      });\n    }\n    this.size = this.size.bind(this);\n    this.getElementByPos = this.getElementByPos.bind(this);\n    this.setElementByPos = this.setElementByPos.bind(this);\n  }\n  clear() {\n    this._length = 0;\n    this._vector.length = 0;\n  }\n  begin() {\n    return new VectorIterator(\n      0,\n      this.size,\n      this.getElementByPos,\n      this.setElementByPos\n    );\n  }\n  end() {\n    return new VectorIterator(\n      this._length,\n      this.size,\n      this.getElementByPos,\n      this.setElementByPos\n    );\n  }\n  rBegin() {\n    return new VectorIterator(\n      this._length - 1,\n      this.size,\n      this.getElementByPos,\n      this.setElementByPos,\n      IteratorType.REVERSE\n    );\n  }\n  rEnd() {\n    return new VectorIterator(\n      -1,\n      this.size,\n      this.getElementByPos,\n      this.setElementByPos,\n      IteratorType.REVERSE\n    );\n  }\n  front(): T | undefined {\n    return this._vector[0];\n  }\n  back(): T | undefined {\n    return this._vector[this._length - 1];\n  }\n  getElementByPos(pos: number) {\n    $checkWithinAccessParams!(pos, 0, this._length - 1);\n    return this._vector[pos];\n  }\n  eraseElementByPos(pos: number) {\n    $checkWithinAccessParams!(pos, 0, this._length - 1);\n    this._vector.splice(pos, 1);\n    this._length -= 1;\n    return this._length;\n  }\n  eraseElementByValue(value: T) {\n    let index = 0;\n    for (let i = 0; i < this._length; ++i) {\n      if (this._vector[i] !== value) {\n        this._vector[index++] = this._vector[i];\n      }\n    }\n    this._length = this._vector.length = index;\n    return this._length;\n  }\n  eraseElementByIterator(iter: VectorIterator<T>) {\n    const _node = iter._node;\n    iter = iter.next();\n    this.eraseElementByPos(_node);\n    return iter;\n  }\n  pushBack(element: T) {\n    this._vector.push(element);\n    this._length += 1;\n    return this._length;\n  }\n  popBack() {\n    if (this._length === 0) return;\n    this._length -= 1;\n    return this._vector.pop();\n  }\n  setElementByPos(pos: number, element: T) {\n    $checkWithinAccessParams!(pos, 0, this._length - 1);\n    this._vector[pos] = element;\n  }\n  insert(pos: number, element: T, num = 1) {\n    $checkWithinAccessParams!(pos, 0, this._length);\n    this._vector.splice(pos, 0, ...new Array<T>(num).fill(element));\n    this._length += num;\n    return this._length;\n  }\n  find(element: T) {\n    for (let i = 0; i < this._length; ++i) {\n      if (this._vector[i] === element) {\n        return new VectorIterator(\n          i,\n          this.size,\n          this.getElementByPos,\n          this.getElementByPos\n        );\n      }\n    }\n    return this.end();\n  }\n  reverse() {\n    this._vector.reverse();\n  }\n  unique() {\n    let index = 1;\n    for (let i = 1; i < this._length; ++i) {\n      if (this._vector[i] !== this._vector[i - 1]) {\n        this._vector[index++] = this._vector[i];\n      }\n    }\n    this._length = this._vector.length = index;\n    return this._length;\n  }\n  sort(cmp?: (x: T, y: T) => number) {\n    this._vector.sort(cmp);\n  }\n  forEach(callback: (element: T, index: number, vector: Vector<T>) => void) {\n    for (let i = 0; i < this._length; ++i) {\n      callback(this._vector[i], i, this);\n    }\n  }\n  [Symbol.iterator]() {\n    return function * (this: Vector<T>) {\n      yield * this._vector;\n    }.bind(this)();\n  }\n}\n\nexport default Vector;\n"]}